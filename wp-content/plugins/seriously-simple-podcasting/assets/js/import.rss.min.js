jQuery(document).ready(function(n){var r,t=n("#ssp-external-feed-progress");function a(e,r){0!==e?(""===r&&(r="blue"),t.progressbar("value")<100&&(t.progressbar({value:e}),r="blue"===(e=r)?"green":"blue",t.removeClass(r).addClass(e))):t.progressbar({value:0})}function e(){n.ajax({url:ajaxurl,type:"get",data:{action:"get_external_rss_feed_progress"}}).done(function(e){a(e,"blue")})}0<t.length&&(!0===confirm("You are about to import an external RSS feed.")?(a(0),r=setInterval(e,250),n.ajax({url:ajaxurl,type:"get",data:{action:"import_external_rss_feed"}}).done(function(e){clearInterval(r),function(e){n(".ssp-ssp-external-feed-message").html("Import completed successfully !").css("color","green");for(var r=n("#ssp-external-feed-status"),t=r.html(),a="",s=0;s<e.length;s++)a="<p>Imported "+e[s]+"</p>"+a;t=a+t,r.html(t)}(e.episodes),a(100,"green")}).fail(function(e){alert("An error occurred importing the RSS feed, please refresh this page to try again")})):n.ajax({url:ajaxurl,type:"get",data:{action:"reset_external_rss_feed_progress"}}).done(function(){n(".ssp-ssp-external-feed-message").html("Import cancelled !").css("color","red"),n("#ssp-external-feed-status").html("")}))});